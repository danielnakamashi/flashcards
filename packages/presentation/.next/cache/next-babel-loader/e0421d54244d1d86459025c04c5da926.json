{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { useAuth } from '@/contexts/auth';\n\nfunction useToken() {\n  const {\n    0: token,\n    1: setToken\n  } = useState('');\n  const {\n    user,\n    getToken\n  } = useAuth();\n  useEffect(() => {\n    let isMounted = true;\n\n    (async () => {\n      const token = await getToken();\n\n      if (token && isMounted) {\n        setToken(token);\n      }\n    })();\n\n    return () => {\n      isMounted = false;\n    };\n  }, [user]);\n  return token;\n}\n\nexport { useToken };","map":null,"metadata":{},"sourceType":"module"}
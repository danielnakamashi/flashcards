{"ast":null,"code":"import firebase from './firebase';\n\nconst userObserverFromFirebase = callback => {\n  firebase.auth().onAuthStateChanged(async firebaseUser => {\n    var _firebaseUser$email, _firebaseUser$emailVe, _firebaseUser$display, _firebaseUser$photoUR;\n\n    if (!firebaseUser) {\n      return callback(null);\n    } // const token = await firebaseUser.getIdToken(true)\n\n\n    callback({\n      email: (_firebaseUser$email = firebaseUser.email) !== null && _firebaseUser$email !== void 0 ? _firebaseUser$email : '',\n      emailVerified: (_firebaseUser$emailVe = firebaseUser.emailVerified) !== null && _firebaseUser$emailVe !== void 0 ? _firebaseUser$emailVe : '',\n      name: (_firebaseUser$display = firebaseUser.displayName) !== null && _firebaseUser$display !== void 0 ? _firebaseUser$display : '',\n      photoUrl: (_firebaseUser$photoUR = firebaseUser.photoURL) !== null && _firebaseUser$photoUR !== void 0 ? _firebaseUser$photoUR : '',\n      uid: firebaseUser.uid // token,\n\n    });\n  });\n};\n\nexport { userObserverFromFirebase };","map":{"version":3,"sources":["/Users/daniel.nakamashi/Documents/projects/clean-flashcards/node_modules/@flashcards/client/src/service/firebase/userObserverFromFirebase.ts"],"names":["firebase","userObserverFromFirebase","callback","auth","onAuthStateChanged","firebaseUser","email","emailVerified","name","displayName","photoUrl","photoURL","uid"],"mappings":"AACA,OAAOA,QAAP,MAAqB,YAArB;;AAEA,MAAMC,wBAA6C,GAAGC,QAAQ,IAAI;AAChEF,EAAAA,QAAQ,CAACG,IAAT,GAAgBC,kBAAhB,CAAmC,MAAMC,YAAN,IAAsB;AAAA;;AACvD,QAAI,CAACA,YAAL,EAAmB;AACjB,aAAOH,QAAQ,CAAC,IAAD,CAAf;AACD,KAHsD,CAKvD;;;AAEAA,IAAAA,QAAQ,CAAC;AACPI,MAAAA,KAAK,yBAAED,YAAY,CAACC,KAAf,qEAAwB,EADtB;AAEPC,MAAAA,aAAa,2BAAEF,YAAY,CAACE,aAAf,yEAAgC,EAFtC;AAGPC,MAAAA,IAAI,2BAAEH,YAAY,CAACI,WAAf,yEAA8B,EAH3B;AAIPC,MAAAA,QAAQ,2BAAEL,YAAY,CAACM,QAAf,yEAA2B,EAJ5B;AAKPC,MAAAA,GAAG,EAAEP,YAAY,CAACO,GALX,CAMP;;AANO,KAAD,CAAR;AAQD,GAfD;AAgBD,CAjBD;;AAmBA,SAASX,wBAAT","sourcesContent":["import { UserObserverService } from '../../usecase/UserObserver'\nimport firebase from './firebase'\n\nconst userObserverFromFirebase: UserObserverService = callback => {\n  firebase.auth().onAuthStateChanged(async firebaseUser => {\n    if (!firebaseUser) {\n      return callback(null)\n    }\n\n    // const token = await firebaseUser.getIdToken(true)\n\n    callback({\n      email: firebaseUser.email ?? '',\n      emailVerified: firebaseUser.emailVerified ?? '',\n      name: firebaseUser.displayName ?? '',\n      photoUrl: firebaseUser.photoURL ?? '',\n      uid: firebaseUser.uid,\n      // token,\n    })\n  })\n}\n\nexport { userObserverFromFirebase }\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { CardData, TopicData } from '@flashcards/usecase';\nimport { useToken } from '@/hooks/useToken';\nimport { getTopic } from '@/main';\n\nfunction useTopic(topicId) {\n  _s();\n\n  var token = useToken();\n\n  var _useState = useState(),\n      topic = _useState[0],\n      setTopic = _useState[1];\n\n  useEffect(function () {\n    var isMounted = true;\n\n    if (token) {\n      getTopic(token, topicId).then(function (data) {\n        if (isMounted) {\n          setTopic(new TopicData({\n            id: data.id,\n            name: data.name,\n            cards: data.cards.map(function (card) {\n              return new CardData(card);\n            })\n          }));\n        }\n      });\n    }\n\n    return function () {\n      isMounted = false;\n    };\n  }, [token]);\n  return topic;\n}\n\n_s(useTopic, \"pCnhT21MdrycWJvEOALIg/Cssu0=\", false, function () {\n  return [useToken];\n});\n\nexport { useTopic };","map":{"version":3,"sources":["/Users/daniel.nakamashi/Documents/projects/clean-flashcards/packages/presentation/hooks/useTopic.ts"],"names":["useState","useEffect","CardData","TopicData","useToken","getTopic","useTopic","topicId","token","topic","setTopic","isMounted","then","data","id","name","cards","map","card"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,qBAApC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,QAAT,QAAyB,QAAzB;;AAEA,SAASC,QAAT,CAAkBC,OAAlB,EAA0D;AAAA;;AACxD,MAAMC,KAAK,GAAGJ,QAAQ,EAAtB;;AADwD,kBAE9BJ,QAAQ,EAFsB;AAAA,MAEjDS,KAFiD;AAAA,MAE1CC,QAF0C;;AAIxDT,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIU,SAAS,GAAG,IAAhB;;AAEA,QAAIH,KAAJ,EAAW;AACTH,MAAAA,QAAQ,CAACG,KAAD,EAAQD,OAAR,CAAR,CAAyBK,IAAzB,CAA8B,UAAAC,IAAI,EAAI;AACpC,YAAIF,SAAJ,EAAe;AACbD,UAAAA,QAAQ,CACN,IAAIP,SAAJ,CAAc;AACZW,YAAAA,EAAE,EAAED,IAAI,CAACC,EADG;AAEZC,YAAAA,IAAI,EAAEF,IAAI,CAACE,IAFC;AAGZC,YAAAA,KAAK,EAAEH,IAAI,CAACG,KAAL,CAAWC,GAAX,CAAe,UAAAC,IAAI;AAAA,qBAAI,IAAIhB,QAAJ,CAAagB,IAAb,CAAJ;AAAA,aAAnB;AAHK,WAAd,CADM,CAAR;AAOD;AACF,OAVD;AAWD;;AAED,WAAO,YAAM;AACXP,MAAAA,SAAS,GAAG,KAAZ;AACD,KAFD;AAGD,GApBQ,EAoBN,CAACH,KAAD,CApBM,CAAT;AAsBA,SAAOC,KAAP;AACD;;GA3BQH,Q;UACOF,Q;;;AA4BhB,SAASE,QAAT","sourcesContent":["import { useState, useEffect } from 'react'\nimport { CardData, TopicData } from '@flashcards/usecase'\nimport { useToken } from '@/hooks/useToken'\nimport { getTopic } from '@/main'\n\nfunction useTopic(topicId: string): TopicData | undefined {\n  const token = useToken()\n  const [topic, setTopic] = useState<TopicData | undefined>()\n\n  useEffect(() => {\n    let isMounted = true\n\n    if (token) {\n      getTopic(token, topicId).then(data => {\n        if (isMounted) {\n          setTopic(\n            new TopicData({\n              id: data.id,\n              name: data.name,\n              cards: data.cards.map(card => new CardData(card)),\n            }),\n          )\n        }\n      })\n    }\n\n    return () => {\n      isMounted = false\n    }\n  }, [token])\n\n  return topic\n}\n\nexport { useTopic }\n"]},"metadata":{},"sourceType":"module"}
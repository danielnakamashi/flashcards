{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport { CardData, TopicData } from '@flashcards/usecase';\nimport { useToken } from '@/hooks/useToken';\nimport { useUseCases } from '@/hooks/useUseCases';\n\nfunction useTopic(topicId) {\n  const token = useToken();\n  const {\n    getTopic\n  } = useUseCases();\n  const {\n    0: topic,\n    1: setTopic\n  } = useState();\n  useEffect(() => {\n    let isMounted = true;\n\n    if (token) {\n      getTopic(token, topicId).then(data => {\n        if (isMounted) {\n          setTopic(new TopicData({\n            id: data.id,\n            name: data.name,\n            cards: data.cards.map(card => new CardData(card))\n          }));\n        }\n      });\n    }\n\n    return () => {\n      isMounted = false;\n    };\n  }, [token]);\n  return topic;\n}\n\nexport { useTopic };","map":{"version":3,"sources":["/Users/daniel.nakamashi/Documents/projects/clean-flashcards/packages/presentation/hooks/useTopic.ts"],"names":["useState","useEffect","CardData","TopicData","useToken","useUseCases","useTopic","topicId","token","getTopic","topic","setTopic","isMounted","then","data","id","name","cards","map","card"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,qBAApC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,WAAT,QAA4B,qBAA5B;;AAEA,SAASC,QAAT,CAAkBC,OAAlB,EAA0D;AACxD,QAAMC,KAAK,GAAGJ,QAAQ,EAAtB;AACA,QAAM;AAAEK,IAAAA;AAAF,MAAeJ,WAAW,EAAhC;AACA,QAAM;AAAA,OAACK,KAAD;AAAA,OAAQC;AAAR,MAAoBX,QAAQ,EAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIW,SAAS,GAAG,IAAhB;;AAEA,QAAIJ,KAAJ,EAAW;AACTC,MAAAA,QAAQ,CAACD,KAAD,EAAQD,OAAR,CAAR,CAAyBM,IAAzB,CAA8BC,IAAI,IAAI;AACpC,YAAIF,SAAJ,EAAe;AACbD,UAAAA,QAAQ,CACN,IAAIR,SAAJ,CAAc;AACZY,YAAAA,EAAE,EAAED,IAAI,CAACC,EADG;AAEZC,YAAAA,IAAI,EAAEF,IAAI,CAACE,IAFC;AAGZC,YAAAA,KAAK,EAAEH,IAAI,CAACG,KAAL,CAAWC,GAAX,CAAeC,IAAI,IAAI,IAAIjB,QAAJ,CAAaiB,IAAb,CAAvB;AAHK,WAAd,CADM,CAAR;AAOD;AACF,OAVD;AAWD;;AAED,WAAO,MAAM;AACXP,MAAAA,SAAS,GAAG,KAAZ;AACD,KAFD;AAGD,GApBQ,EAoBN,CAACJ,KAAD,CApBM,CAAT;AAsBA,SAAOE,KAAP;AACD;;AAED,SAASJ,QAAT","sourcesContent":["import { useState, useEffect } from 'react'\nimport { CardData, TopicData } from '@flashcards/usecase'\nimport { useToken } from '@/hooks/useToken'\nimport { useUseCases } from '@/hooks/useUseCases'\n\nfunction useTopic(topicId: string): undefined | TopicData {\n  const token = useToken()\n  const { getTopic } = useUseCases()\n  const [topic, setTopic] = useState<TopicData | undefined>()\n\n  useEffect(() => {\n    let isMounted = true\n\n    if (token) {\n      getTopic(token, topicId).then(data => {\n        if (isMounted) {\n          setTopic(\n            new TopicData({\n              id: data.id,\n              name: data.name,\n              cards: data.cards.map(card => new CardData(card)),\n            }),\n          )\n        }\n      })\n    }\n\n    return () => {\n      isMounted = false\n    }\n  }, [token])\n\n  return topic\n}\n\nexport { useTopic }\n"]},"metadata":{},"sourceType":"module"}
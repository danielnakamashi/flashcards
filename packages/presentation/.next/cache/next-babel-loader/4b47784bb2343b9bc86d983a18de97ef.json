{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport firebase from './firebase';\n\nvar getCurrentUserFromFirebase = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var _firebaseUser$email, _firebaseUser$emailVe, _firebaseUser$display, _firebaseUser$photoUR;\n\n    var firebaseUser;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            firebaseUser = firebase.auth().currentUser;\n\n            if (firebaseUser) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\", null);\n\n          case 3:\n            return _context.abrupt(\"return\", {\n              email: (_firebaseUser$email = firebaseUser.email) !== null && _firebaseUser$email !== void 0 ? _firebaseUser$email : '',\n              emailVerified: (_firebaseUser$emailVe = firebaseUser.emailVerified) !== null && _firebaseUser$emailVe !== void 0 ? _firebaseUser$emailVe : '',\n              name: (_firebaseUser$display = firebaseUser.displayName) !== null && _firebaseUser$display !== void 0 ? _firebaseUser$display : '',\n              photoUrl: (_firebaseUser$photoUR = firebaseUser.photoURL) !== null && _firebaseUser$photoUR !== void 0 ? _firebaseUser$photoUR : '',\n              uid: firebaseUser.uid // token,\n\n            });\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getCurrentUserFromFirebase() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport { getCurrentUserFromFirebase };","map":{"version":3,"sources":["/Users/daniel.nakamashi/Documents/projects/clean-flashcards/node_modules/@flashcards/client/src/service/firebase/getCurrentUserFromFirebase.ts"],"names":["firebase","getCurrentUserFromFirebase","firebaseUser","auth","currentUser","email","emailVerified","name","displayName","photoUrl","photoURL","uid"],"mappings":";;AACA,OAAOA,QAAP,MAAqB,YAArB;;AAEA,IAAMC,0BAAiD;AAAA,sEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAClDC,YAAAA,YADkD,GACnCF,QAAQ,CAACG,IAAT,GAAgBC,WADmB;;AAAA,gBAGnDF,YAHmD;AAAA;AAAA;AAAA;;AAAA,6CAI/C,IAJ+C;;AAAA;AAAA,6CASjD;AACLG,cAAAA,KAAK,yBAAEH,YAAY,CAACG,KAAf,qEAAwB,EADxB;AAELC,cAAAA,aAAa,2BAAEJ,YAAY,CAACI,aAAf,yEAAgC,EAFxC;AAGLC,cAAAA,IAAI,2BAAEL,YAAY,CAACM,WAAf,yEAA8B,EAH7B;AAILC,cAAAA,QAAQ,2BAAEP,YAAY,CAACQ,QAAf,yEAA2B,EAJ9B;AAKLC,cAAAA,GAAG,EAAET,YAAY,CAACS,GALb,CAML;;AANK,aATiD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAjDV,0BAAiD;AAAA;AAAA;AAAA,GAAvD;;AAmBA,SAASA,0BAAT","sourcesContent":["import { GetCurrentUserService } from '../../usecase/GetCurrentUser'\nimport firebase from './firebase'\n\nconst getCurrentUserFromFirebase: GetCurrentUserService = async () => {\n  const firebaseUser = firebase.auth().currentUser\n\n  if (!firebaseUser) {\n    return null\n  }\n\n  // const token = await firebaseUser.getIdToken(true)\n\n  return {\n    email: firebaseUser.email ?? '',\n    emailVerified: firebaseUser.emailVerified ?? '',\n    name: firebaseUser.displayName ?? '',\n    photoUrl: firebaseUser.photoURL ?? '',\n    uid: firebaseUser.uid,\n    // token,\n  }\n}\n\nexport { getCurrentUserFromFirebase }\n"]},"metadata":{},"sourceType":"module"}